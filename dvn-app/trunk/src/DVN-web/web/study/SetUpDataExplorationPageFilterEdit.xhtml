<div xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:jsp="http://java.sun.com/JSP/Page"
     xmlns:ice="http://www.icesoft.com/icefaces/component"
     xmlns:dvn="/WEB-INF/tlds/dvn-components"
     class="dvnsetupdataexloprationformblock">

    <div class="dvnFormPadding dvnFormMargin" style="float:right;">

        <ice:commandButton type="submit" value="Update" action ="#{SetUpDataExplorationPage.saveFilterFragment}"
                           visible="#{SetUpDataExplorationPage.editFilterGroup}"/>
        <ice:commandButton type="submit" value="Cancel" action ="#{SetUpDataExplorationPage.cancelFragment}" 
        visible="#{SetUpDataExplorationPage.editFilterGroup}"/>
        <ice:commandButton type="submit" value="Update" action ="#{SetUpDataExplorationPage.saveFilterGrouping}"
                           visible="#{SetUpDataExplorationPage.editFilterGrouping}"/>
        <ice:commandButton type="submit" value="Cancel" action="#{SetUpDataExplorationPage.cancelFragment}"
                           visible="#{SetUpDataExplorationPage.editFilterGrouping}"/>
    </div>

    <div jsfc="ice:panelGroup" style="margin-bottom:1em;" >
        <ice:outputLabel value="Filter"
                         rendered="#{SetUpDataExplorationPage.editFilterGroup}"
                         visible="#{SetUpDataExplorationPage.editFilterGroup}"/>
                 <ice:inputText id="input_filterGroupName"
                                visible="#{SetUpDataExplorationPage.editFilterGroup}"
                                rendered="#{SetUpDataExplorationPage.editFilterGroup}"
                        value="#{SetUpDataExplorationPage.editFilterVarGroup.varGroup.name}"
                        size="25"
                        maxlength="255"
                        binding="#{SetUpDataExplorationPage.inputFilterGroupName}"/>

    </div>


    <div jsfc="ice:panelGroup" style="margin-bottom:1em;" >
        <ice:outputLabel value="Group"
                         rendered="#{SetUpDataExplorationPage.editFilterGrouping}"
                         visible="#{SetUpDataExplorationPage.editFilterGrouping}"/>
               <ice:inputText id="input_groupingName"
                              rendered="#{SetUpDataExplorationPage.editFilterGrouping}"
                              value="#{SetUpDataExplorationPage.editFilterVarGrouping.varGrouping.name}"
                    size="25"
                    maxlength="255"
                    binding="#{SetUpDataExplorationPage.inputFilterGroupingName}"/>
    </div>

    <div jsfc="ice:panelGroup" rendered="#{SetUpDataExplorationPage.editFilterGroup}">
         <ice:outputLabel value="Filter Types" rendered="#{SetUpDataExplorationPage.editFilterGroup}"
              visible="#{SetUpDataExplorationPage.editFilterGroup}"/>
         <ice:selectManyListbox size="2" visible="#{SetUpDataExplorationPage.editFilterGroup}"
                                value="#{SetUpDataExplorationPage.editFilterVarGroup.varGroupTypesSelectItems}">
             <f:selectItems value="#{SetUpDataExplorationPage.fragmentFilterGroupTypeSelectItems}"/>
         </ice:selectManyListbox>
         <br></br>
         <ice:outputLabel value="Name" visible="#{SetUpDataExplorationPage.addFilterType}"/>

         <ice:inputText id="input_addFilterType"
                        visible="#{SetUpDataExplorationPage.addFilterType}"
                        size="25"
                        maxlength="255"
                        binding="#{SetUpDataExplorationPage.inputFilterGroupTypeName}"/>
         <ice:commandButton type="submit" value="Add Filter Type" action ="#{SetUpDataExplorationPage.addFilterTypeButton}" visible="#{!SetUpDataExplorationPage.addFilterType}"/>
          <ice:commandButton type="submit" value="Save Filter Type" action ="#{SetUpDataExplorationPage.saveFilterTypeButton}" visible="#{SetUpDataExplorationPage.addFilterType}"/>
          <ice:commandButton type="submit" value="Cancel" action ="#{SetUpDataExplorationPage.cancelFilterTypeButton}" visible="#{SetUpDataExplorationPage.addFilterType}"/>
    </div>
    
    <div jsfc="ice:panelGroup">
         <ice:outputLabel value="Filter Variables"/>

         <ice:inputText
             rendered="#{SetUpDataExplorationPage.editFilterGroup}"
              visible="#{SetUpDataExplorationPage.editFilterGroup}"
              size="25"
              maxlength="255"
              onkeyup="delayedRequest(form,this,event);"
              valueChangeListener="#{SetUpDataExplorationPage.updateFilterVariableList}"
              binding="#{SetUpDataExplorationPage.inputVariableFilter}"/>
         <ice:dataTable width="100%" cellspacing="0" cellpadding="0" id="genericVariables" var="dataVariableUI" 
                        rendered="#{!SetUpDataExplorationPage.editFilterGrouping}"
                        value="#{SetUpDataExplorationPage.dvGenericFilteredListUI}">
            <ice:column>
                <f:facet name="header">
                    <ice:outputText value="Select"/>
                </f:facet>
                <ice:selectBooleanCheckbox id="genericVariableCheckBoxes" styleClass="filterVariableCheckBoxes"
                                           partialSubmit="false" value="#{dataVariableUI.selected}"/>
            </ice:column>
            <ice:column>
                <f:facet name="header">
                    <ice:outputText value="Name"/>
                </f:facet>
                <ice:outputLabel value="#{dataVariableUI.dataVariable.name}"/>
            </ice:column>
        </ice:dataTable>
    </div>

</div>
