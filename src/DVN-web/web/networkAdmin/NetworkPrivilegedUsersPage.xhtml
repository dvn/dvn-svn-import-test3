<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:gui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:jsp="http://java.sun.com/JSP/Page"
       xmlns:ice="http://www.icesoft.com/icefaces/component"
      >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>

<body>
<gui:composition template="/template.xhtml">
  <gui:param name="pageTitle" value="DVN - Network Privileged Users" />
  <gui:define name="body">

        <ice:form id="NetworkPrivilegedUsersPageView">
               <input type="hidden" name="pageName" value="NetworkPrivilegedUsersPage"/>
               
               <div class="dvn_section">
                   <div class="dvn_sectionTitle">
                       
                           <ice:outputText value="Dataverse Creation and Network User Privileges"/>
                       
                   </div>            
                   <div class="dvn_sectionBox"> 
                       <div class="dvn_margin12">
                           
                           <div jsfc="ice:panelGroup"  styleClass="successMessage" rendered="#{NetworkPrivilegedUsersPage.success}" >
                               <ice:outputText value="Update Successful!" />
                           </div>
                           
                           <ice:outputText id="outputText4"
                                         styleClass="vdcSubHeaderColor" value="- Creating a New Dataverse:"/>
                           <div id="groupPanel2" style="padding-top: 10px; padding-bottom: 10px">
                               <ice:outputText id="outputText5" value="Allow users to request to create a new Dataverse when they create an account: "/>
                               <ice:selectBooleanCheckbox id="checkbox1" value="#{NetworkPrivilegedUsersPage.privileges.network.allowCreateRequest}"/>
                               <div jsfc="ice:panelGroup"  >
                                   <ice:graphicImage alt="Information" title="Information" styleClass="vdcNoBorders" style="vertical-align: bottom" value="/resources/icon_info.gif" />
                                   <ice:outputText styleClass="vdcHelpText" value="By checking this option, your Dataverse Network homepage will display an invitation to create a dataverse (only users without Dataverse creator privileges will see the invitation)."/>
                               </div>  

                           </div>
                           
                           <div style="padding-top: 10px; padding-bottom: 10px">
                               <ice:outputText id="outputText2" styleClass="vdcSubHeaderColor" value="- Network Privileged Users:"/>
                           </div>
                           <div style="padding-bottom: 5px">
                               <ice:outputText id="outputText7" value="Enter the Username of the user you want to add: "/>
                               <ice:inputText  onkeypress="if (window.event) return processEvent('', 'addUserbutton'); else return processEvent(event, 'addUserbutton');" id="textField1" value="#{NetworkPrivilegedUsersPage.userName}"/>
                               <ice:commandLink  id="addUserbutton" value="Add" actionListener="#{NetworkPrivilegedUsersPage.addUser}"/>
                               <ice:outputText styleClass="errorMessage" value="User Not Found." rendered="#{NetworkPrivilegedUsersPage.userNotFound}"/>
                           </div>
                           <div style="padding-bottom: 10px;">
                               <ice:graphicImage alt="Information" title="Information" styleClass="vdcNoBorders" style="vertical-align: bottom" value="/resources/icon_info.gif" />
                               <ice:outputText styleClass="vdcHelpText" value="You can add a network privileged user to be another network admin or a Dataverse creator. After privileged users are added to this list, if you want to remove a user, click 'Clear Role' for that user."/>
                           </div>
                           <ice:dataTable binding="#{NetworkPrivilegedUsersPage.userTable}" cellpadding="0" cellspacing="0"
                                        columnClasses="vdcColPadded, vdcColPadded, vdcColPadded, vdcColPadded" headerClass="list-header-left" 
                                        rowClasses="list-row-even,list-row-odd" value="#{NetworkPrivilegedUsersPage.privileges.privilegedUsers}" var="currentRow" width="98%">
                               <ice:column id="column1" rendered="#{currentRow.user.id!=NetworkPrivilegedUsersPage.privileges.network.defaultNetworkAdmin.id}">
                                   <f:facet name="header">
                                       <ice:outputText id="outputText3" value="Username"/>
                                   </f:facet>
                                   <ice:outputLink id="hyperlink2" value="/dvn/faces/login/AccountPage.xhtml?userId=#{currentRow.user.id}">
                                       <ice:outputText id="hyperlink2Text" value="#{currentRow.user.userName}"/>
                                   </ice:outputLink>
                               </ice:column>
                               <ice:column id="column9" rendered="#{currentRow.user.id!=NetworkPrivilegedUsersPage.privileges.network.defaultNetworkAdmin.id}">
                                   <f:facet name="header">
                                       <ice:outputText id="outputText16" value="Privileged Role"/>
                                   </f:facet>
                                   <ice:selectOneRadio  id="roleSelectMenu" value="#{currentRow.networkRoleId}"> 
                                       <f:selectItems id="roleSelectItems" value="#{NetworkPrivilegedUsersPage.roleSelectItems}"/>
                                       <ice:message for="roleSelectMenu"  styleClass="errorMessage"/>
                                   </ice:selectOneRadio>
                                   
                               </ice:column>
                               <ice:column rendered="#{currentRow.user.id!=NetworkPrivilegedUsersPage.privileges.network.defaultNetworkAdmin.id}">
                                   <ice:commandButton  value="Clear Role" actionListener="#{NetworkPrivilegedUsersPage.clearRole}" />                                            
                               </ice:column>
                           </ice:dataTable>
                           
                           <div id="groupPanel6"
                                          style="padding-bottom: 10px; padding-top: 10px; padding-right: 5px;" styleClass="vdcTextRight">
                               <ice:outputText  styleClass="vdcHelpText" value="(Nothing in this page will be saved until you click  Save Changes)"/>  
                               <ice:commandButton id="button5" value="Save Changes" action="#{NetworkPrivilegedUsersPage.save}"/>
                               <ice:commandButton immediate="true" id = "cancelButton" value="Cancel" action="#{NetworkPrivilegedUsersPage.cancel}"/>   
                           </div>
                           
                       </div>
                   </div>
               </div>
                          
        </ice:form>
            </gui:define>
        </gui:composition>
    </body>
</html>
