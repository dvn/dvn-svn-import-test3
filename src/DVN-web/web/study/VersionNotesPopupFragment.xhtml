<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:gui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:jsp="http://java.sun.com/JSP/Page"
      xmlns:ice="http://www.icesoft.com/icefaces/component"
      xmlns:dvn="/WEB-INF/tlds/dvn-components">
<head></head>
<body>
    <ice:form id="StudyVersionNotesPopup" rendered="#{MainLayoutBean.writeStudyVersionNotesPopups}">
        <!--<ice:form id="StudyVersionNotesPopup" rendered="true">-->
        <!-- version notes popup -->
        <!--visible="#{studyVersionDifferencesPage.showVersionNotesPopup}"-->
        <ice:panelPopup id="versionNotesPopup"
                        draggable="false"
                        visible="#{VersionNotesPopupBean.showPopup }"
                        autoCentre="true"
                        modal="true">
            <f:facet name="header">
                <ice:panelGrid id="autoCentPanelGrid"
                               width="100%" cellpadding="0"
                               cellspacing="0" columns="2"
                               columnClasses="none,popupButton">
                    <ice:outputText value="Study Version Notes"/>
                    <!--<ice:commandLink id="autoCentPopupClose"
                                     actionListener="#{studyPage.toggleVersionNotesPopup}"
                                     styleClass="popupModalClose">
                        <ice:graphicImage value="/resources/images/icon_close.gif"/>
                    </ice:commandLink>-->
                </ice:panelGrid>
            </f:facet>
            <f:facet name="body">
                <ice:panelGrid id="autoCentContent"
                               width="100%" cellpadding="0"
                               cellspacing="0" columns="1"
                               styleClass="popupModalBody">
                    
                    <style type="text/css">
                        .popupModalBody .iceInpTxtArea {width: 95%;}
                    </style>

                    <ice:outputText value="Add your comments to the Study Version Notes field below, in order to give a brief description of the changes associated with this version."/>
                    <ice:outputText value="Study Version Notes"/>
                    <ice:inputTextarea maxlength="#{VersionNotesPopupBean.versionNoteMaxLength}" id="studyVersionNotes" rows="8" value="#{VersionNotesPopupBean.versionNote}"></ice:inputTextarea>

                    <div jsfc="ice:panelGroup" styleClass="dvnFormPadding dvnFormMargin">
                        <ice:commandButton id="autoCentPopupOk"
                                           action="#{studyPage.saveVersionNote}"
                                           value="Save"
                                           rendered="#{VersionNotesPopupBean.editNoteAction}"/>
                       <ice:commandButton id="autoCentPopupOk"
                                           actionListener="#{studyVersionDifferencesPage.saveVersionNoteAndRelease}"
                                           value="Continue"
                                           rendered="#{VersionNotesPopupBean.versionReleaseAction}"/>
                       <ice:commandButton id="autoCentPopupOk"
                                           action="#{AddFilesPage.save_action}"
                                           value="Continue"
                                           rendered="#{VersionNotesPopupBean.addFilesAction}"/>
                       <ice:commandButton id="autoCentPopupOk"
                                           actionListener="#{ManageStudiesList.doConfirmVersionNotesPopup}"
                                           value="Continue"
                                           rendered="#{VersionNotesPopupBean.manageStudiesAction}"/>
                       <ice:commandButton id="autoCentPopupOk"
                                           action="#{EditStudyPage.save}"
                                           value="Continue"
                                           rendered="#{VersionNotesPopupBean.editStudyAction}"/>

                        <ice:commandButton id="autoCentPopupCancel"
                                           actionListener="#{VersionNotesPopupBean.closePopup}"
                                           value="Cancel"/>
                    </div>
                </ice:panelGrid>
            </f:facet>
        </ice:panelPopup>
        <!-- end version notes -->
    </ice:form>
</body>
</html>