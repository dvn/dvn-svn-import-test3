<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:gui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:jsp="http://java.sun.com/JSP/Page"
      xmlns:ice="http://www.icesoft.com/icefaces/component">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
  <gui:composition template="/template.xhtml">
    <gui:param name="pageTitle" value="User Account - #{VDCRequest.dataversePageTitle}"/>
    <gui:define name="body">
      <ice:form id="accountForm">
        <ice:inputHidden id="vdcId" value="#{VDCRequest.currentVDCId}"/>
        <div class="dvn_section">
          <div jsfc="ice:panelGroup" styleClass="dvnMsgBlockRound dvnSuccessMessage" rendered="#{!empty AccountPage.statusMessage.messageText}">
             <div class="dvnMsgBlockContainer">
               <p><ice:outputText id="statusMessage" value="#{AccountPage.statusMessage.messageText}"/></p>
             </div>
          </div>
          <div class="dvn_sectionTitle">
            <ice:outputText value="Account for "/>
            <ice:outputText value="#{AccountPage.user.userName}"/>
          </div>
          <div class="dvn_sectionBox">
            <div class="dvn_margin12">
              <div class="vdcTextRight">
                <ice:outputLink id="linkAction3" rendered="#{ !VDCSession.loginBean.networkAdmin and VDCSession.loginBean.user.id == AccountPage.user.id and VDCSession.loginBean.hasDataverses}" value="/dvn#{VDCRequest.currentVDCURL}/faces/networkAdmin/MyDataversePage.xhtml">
                  <ice:outputText id="linkAction3Text" value="My Dataverses"/>
                </ice:outputLink>
                <ice:outputText value=" | " rendered="#{!VDCSession.loginBean.networkAdmin and VDCSession.loginBean.user.id == AccountPage.user.id and VDCSession.loginBean.hasDataverses}"/>
                <ice:outputLink id="linkAction1" rendered="#{VDCSession.loginBean.networkAdmin or VDCSession.loginBean.user.id == AccountPage.user.id}"  value="/dvn/faces/login/EditAccountPage.xhtml?userId=#{AccountPage.user.id}&amp;vdcId=#{VDCRequest.currentVDCId}">
                  <ice:outputText id="linkAction1Text" value="Update Account"/>
                </ice:outputLink>
                <ice:outputText rendered="#{VDCSession.loginBean.networkAdmin or VDCSession.loginBean.user.id == AccountPage.user.id}" value=" | " />
                <ice:outputLink rendered="#{VDCSession.loginBean.networkAdmin or VDCSession.loginBean.user.id == AccountPage.user.id}"  value="/dvn/faces/login/EditPasswordPage.xhtml?userId=#{AccountPage.user.id}&amp;vdcId=#{VDCRequest.currentVDCId}">
                  <ice:outputText id="linkAction2Text" value="Change Password"/>
                </ice:outputLink>
                <ice:outputText value=" | " rendered="#{VDCSession.loginBean.networkAdmin and VDCRequest.currentVDC == null}"/>
                <ice:outputLink rendered="#{VDCSession.loginBean.networkAdmin and VDCRequest.currentVDC == null}" value="/dvn/faces/networkAdmin/AllUsersPage.xhtml?vdcId=#{VDCRequest.currentVDCId}">
                  <ice:outputText value="Go To All Users List"/>
                </ice:outputLink>
              </div>
              <ice:panelGrid cellpadding="0" cellspacing="0" columns="2"
                     columnClasses="vdcColPadded, vdcColPadded" id="gridPanel2">
                <div jsfc="ice:panelGroup" id="groupPanel1">
                  <ice:outputText id="outputText2" styleClass="vdcFieldTitle" value="Username"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText id="outputText3" value="#{AccountPage.user.userName}"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText id="outputText4" styleClass="vdcFieldTitle" value="Full Name"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText value="#{AccountPage.user.firstName} #{AccountPage.user.lastName}"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText id="outputText5" styleClass="vdcFieldTitle" value="E-Mail"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText id="outputText11" value="#{AccountPage.user.email}"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText id="outputText6" styleClass="vdcFieldTitle" value="Institution"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText id="outputText12" value="#{AccountPage.user.institution}"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText id="outputText7" styleClass="vdcFieldTitle" value="Position"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText id="outputText15" value="#{AccountPage.user.position}"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText id="outputText8" styleClass="vdcFieldTitle" value="Phone Number"/>
                </div>
                <div jsfc="ice:panelGroup">
                  <ice:outputText id="outputText13" value="#{AccountPage.user.phoneNumber}"/>
                </div>
              </ice:panelGrid>
            </div>
          </div>
        </div>
      </ice:form>
    </gui:define>
  </gui:composition>
</body>
</html>
