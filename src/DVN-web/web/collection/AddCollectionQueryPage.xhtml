<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:gui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:jsp="http://java.sun.com/JSP/Page"
       xmlns:ice="http://www.icesoft.com/icefaces/component"
      >
<head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

</head>

<body>
<gui:composition template="/template.xhtml">

<gui:param name="pageTitle" value="DVN - Add/Edit Collection" />

  <gui:define name="body">
     
        <ice:form id="form1" >
            <ice:inputHidden id="vdcId" value="#{VDCRequest.currentVDCId}"/>                       
            <ice:inputHidden id="edit" value="#{AddCollectionsPage.edit}"/>                       
            <ice:inputHidden id="collId" value="#{AddCollectionsPage.collId}"/>                       
            <ice:inputHidden id="parentId" value="#{AddCollectionsPage.parentId}"/>  
            
            <div class="dvn_section">
                <div class="dvn_sectionTitle">
                            
                        <ice:outputText value="Collection as a Query"/>
                    
                </div>            
                <div class="dvn_sectionBox"> 
                    <div class="dvn_margin12"> 
                        <div jsfc="ice:panelGroup"  style="padding-top: 10px; padding-left: 5px">
                            <ice:outputText value="Enter collection name: "/>
                            <ice:inputText binding="#{AddCollectionsPage.textFieldCollectionName}" required="true" requiredMessage="This field is required." id="textFieldCollectionName" validator="#{AddCollectionsPage.validateName}"/>
                            <ice:message id="collectionNameMsg" for="textFieldCollectionName" showSummary="true" showDetail="false" styleClass="errorMessage"/>
                            <ice:outputText id="outputText5" value="Choose a parent: "/>
                            <ice:selectOneMenu binding="#{AddCollectionsPage.dropdown3}" id="dropdown3">
                                <f:selectItems id="dropdown2SelectItems1" value="#{AddCollectionsPage.dropdown2DefaultItems}"/>
                            </ice:selectOneMenu>
                        </div>
                        
                        <div jsfc="ice:panelGroup"  id="groupPanel3" style="padding-top: 10px;">
                            <ice:outputText styleClass="vdcSubHeader" value="Define Collection as a Query: "/> 
                            <div jsfc="ice:panelGroup"  style="padding-top: 10px; padding-left: 15px, padding-right: 15px;">    
                                <ice:graphicImage alt="Information" title="Information" styleClass="vdcNoBorders" style="vertical-align: bottom" value="/resources/icon_info.gif" />
                                <ice:outputText  styleClass="vdcHelpText" value="By defining a collection as a query any new - or modified - study that satisfies the query will be automatically added to the collection."/>
                            </div>
                            
                            <div jsfc="ice:panelGroup"  style="padding-top: 10px; padding-left: 15px"> 
                                <div jsfc="ice:panelGroup"  style="padding-top: 10px">   
                                    <ice:outputText id="outputText10" value="Enter query: "/>
                                </div>
                                <ice:inputTextarea rows="5" cols="100" binding="#{AddCollectionsPage.textAreaQuery}"  id="textArea1" required="true" requiredMessage="This field is required."/>  
                                <ice:message for="textArea1" showSummary="true" showDetail="false"  errorClass="errorMessage"/>
                            </div>
                            
                            <div jsfc="ice:panelGroup"  id="groupPanel6" style="padding-top: 30px; ">
                                <ice:commandButton id="button2" value="Save Collection" action="#{AddCollectionsPage.queryStudies}"/> 
                                <ice:commandButton  id="button4" immediate="true" 
                                                  style="margin-left: 30px;" value="Cancel" action="#{AddCollectionsPage.cancel}"/>
                            </div>
                            
                            <div jsfc="ice:panelGroup"  style="padding-top: 15px">
                                <ice:graphicImage alt="Information" title="Information" styleClass="vdcNoBorders" style="vertical-align: bottom" value="/resources/icon_info.gif" />
                                <ice:outputText  styleClass="vdcHelpText" escape="false" value="Practically all study fields can be used to build a collection query. The study fields need to be entered in the appropriate format, such as: title, studyId, productionDate, distributionDate, keywordValue, topicClassValue, authorName, authorAffiliation, producerName, distributorName, otherId (all fields will be listed in Help) &lt;br /&gt; &lt;b&gt;Query examples:&lt;/b&gt;  &lt;br /&gt; title:Elections AND keywordValue:world &lt;br /&gt; authorName: John Smith &lt;br /&gt; &lt;br /&gt; For more information on query syntax, see &lt;a href='http://lucene.apache.org/java/docs/queryparsersyntax.html' style='font-size: 1em' target='_blank'&gt;Lucene website&lt;/a&gt;." />
                            </div>   
                        </div>
                    </div>
                </div>                             
            </div>                     
        </ice:form>
   </gui:define>
        </gui:composition>
    </body>
</html>
